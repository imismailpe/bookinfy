(this.webpackJsonpbookinfy=this.webpackJsonpbookinfy||[]).push([[0],{50:function(e,t,a){e.exports=a(88)},78:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(19),r=a.n(c),s=a(20),o=a(16),u=a(92),m=a(91),i=(a(55),a(12)),d=a(15),E=a.n(d);function p(e){var t=e.props;return l.a.createElement("tr",null,l.a.createElement("td",null,t._id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email),l.a.createElement("td",null,l.a.createElement(s.b,{className:"nav-link",to:"/edituser/".concat(t._id)},"Edit")))}function b(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){E.a.get("http://localhost:4000/users").then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",{className:"wrapper-users"},l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table table-striped table-dark"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("td",null,"ID"),l.a.createElement("td",null,"Name"),l.a.createElement("td",null,"Email"),l.a.createElement("td",null,"Action"))),l.a.createElement("tbody",null,a.map((function(e){return l.a.createElement(p,{props:e,key:e._id})}))))))}var f=a(11),v=function(e){return function(t){t({type:"CALLING_API",payload:"Creating.."}),E.a.post("http://localhost:4000/users/create",e).then((function(e){console.log(e.data),t({type:"FINISHED_API",payload:"Created user successfully"})})).catch((function(e){console.log(e)}))}},g=function(e){return function(t){console.log("updating..",e),t({type:"CALLING_API",payload:"Updating.."}),E.a.put("http://localhost:4000/users/update/".concat(e.userid),e).then((function(e){console.log("updated..",e),t({type:"FINISHED_API",payload:"Updated user successfully"})})).catch((function(e){console.log("error--",e)}))}},h=function(e){return function(t){console.log("stating delete"),t({type:"CALLING_API",payload:"Deleting.."}),E.a.delete("http://localhost:4000/users/delete/".concat(e.userid),e).then((function(e){t({type:"FINISHED_API",payload:"Deleted user successfully"}),console.log("deleted..",e)})).catch((function(e){console.log("error--",e)}))}};function N(){var e=y(""),t=y(""),a=y(""),n=Object(f.b)(),c=Object(f.c)((function(e){return e.statusMessage}));return l.a.createElement("div",{className:"wrapper"},c?l.a.createElement("div",{className:"alert alert-success",role:"alert"},c):null,l.a.createElement("form",{onSubmit:function(l){l.preventDefault();var c={name:e.value,email:t.value,password:a.value};n(v(c))}},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},"Name:"),l.a.createElement("input",Object.assign({},e,{name:"name",type:"text",className:"form-control col-sm-8"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},"Email:"),l.a.createElement("input",Object.assign({},t,{type:"email",className:"form-control col-sm-8"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},"Password:"),l.a.createElement("input",Object.assign({},a,{type:"password",className:"form-control col-sm-8"}))),l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit")))}function y(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),l=a[0],c=a[1];return{value:l,onChange:function(e){c(e.target.value)}}}function j(e){var t=e.props,a=t._id,n=I(t.name),c=I(t.email),r=Object(f.b)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,"Id"),l.a.createElement("td",null,t._id)),l.a.createElement("tr",null,l.a.createElement("td",null,"Name"),l.a.createElement("td",null,l.a.createElement("input",Object.assign({},n,{type:"text"})))),l.a.createElement("tr",null,l.a.createElement("td",null,"Email"),l.a.createElement("td",null,l.a.createElement("input",Object.assign({},c,{type:"email"})))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("button",{onClick:function(){var e={userid:a,name:n.value,email:c.value};console.log("submitted data is ",e),console.log("userid is ",t._id),r(h(e))}},"Delete user"),"\xa0",l.a.createElement("button",{onClick:function(){var e={userid:a,name:n.value,email:c.value};console.log("submitted data is ",e),console.log("userid is ",t._id),r(g(e))}},"Update"))))}function I(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),l=a[0],c=a[1];return{value:l,onChange:function(e){c(e.target.value)}}}function O(){return l.a.createElement("span",null,"Loading..")}function w(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),u=o[0],m=o[1],d=Object(f.c)((function(e){return e.statusMessage}));return Object(n.useEffect)((function(){m(!0),E.a.get("http://localhost:4000/users/edit/".concat(e.match.params.userid)).then((function(e){r(e.data),m(!1)})).catch((function(e){console.log(e)}))}),[e.match.params.userid]),l.a.createElement("div",{className:"wrapper-users"},d?l.a.createElement("div",{className:"alert alert-success",role:"alert"},d):null,l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table table-striped table-dark"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("td",null,"Field"),l.a.createElement("td",null,"Value"))),l.a.createElement("tbody",null,u?l.a.createElement(O,null):l.a.createElement(j,{props:c})))))}a(78);var k={userInEdit:{},isLoading:!0},_=a(22),A=a(49);a(87),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=Object(_.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CALLING_API":return Object.assign({},e,{statusMessage:t.payload,isLoading:!0});case"FINISHED_API":return Object.assign({},e,{statusMessage:t.payload,isLoading:!1});default:return e}}),Object(_.a)(A.a));r.a.render(l.a.createElement(f.a,{store:C},l.a.createElement((function(){return l.a.createElement(s.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement(u.a,{bg:"info",expand:"md"},l.a.createElement(u.a.Brand,{href:"#"},"BookInf"),l.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(m.a,{className:"mr-auto"},l.a.createElement(s.b,{className:"nav-link",to:"/createuser"},"Create User"),l.a.createElement(s.b,{className:"nav-link",to:"/viewusers"},"View Users"))))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/createuser",component:N}),l.a.createElement(o.a,{path:"/viewusers",component:b}),l.a.createElement(o.a,{path:"/edituser/:userid/",component:w})))))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[50,1,2]]]);
//# sourceMappingURL=main.23e0f51e.chunk.js.map